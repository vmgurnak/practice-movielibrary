const e={container:document.querySelector(".js-movie-list"),loadBtn:document.querySelector(".js-load-more")},o="Title not found",t="XXXX-XX-XX",a="XX.XX";let n=1;function r(e){return e.map((({poster_path:e,original_title:n,release_date:r,vote_average:l})=>`<li class="movie-card">\n         <img src="${e?"https://image.tmdb.org/t/p/w300"+e:"default.poster"}" alt="${n||o}">\n         <div class="movie-info">\n            <h2>${n||o}</h2>\n            <p>Release Date: ${r||t}</p>\n            <p>Vote Average: ${l||a}</p>\n         </div>\n      </li>`)).join("")}function l(o="1"){const t=new URLSearchParams({page:o,api_key:"345007f9ab440e5b86cef51be6397df1"});return fetch(`https://api.themoviedb.org/3/trending/movie/week?${t}`).then((e=>{if(!e.ok)throw new Error("Error");return e.json()})).catch((o=>{console.log(o),e.loadBtn.classList.replace("load-more","load-more-hidden")}))}e.loadBtn.addEventListener("click",(function(){n+=1,l(n).then((o=>{e.container.insertAdjacentHTML("beforeend",r(o.results)),o.page>=o.total_pages&&e.loadBtn.classList.replace("load-more","load-more-hidden")}))})),l().then((o=>{console.log(o),e.container.insertAdjacentHTML("beforeend",r(o.results)),o.page<o.total_pages&&e.loadBtn.classList.replace("load-more-hidden","load-more")})).catch((o=>{console.log(o),e.loadBtn.classList.replace("load-more","load-more-hidden")}));
//# sourceMappingURL=loadmore.21858513.js.map
