!function(){var e={container:document.querySelector(".js-movie-list"),guard:document.querySelector(".js-guard")},n="Title not found",t="XXXX-XX-XX",o="XX.XX",r=1,c=new IntersectionObserver((function(n,t){n.forEach((function(n){console.log(n),n.isIntersecting&&i(r+=1).then((function(n){e.container.insertAdjacentHTML("beforeend",a(n.results)),n.page>=n.total_pages&&t.unobserve(e.guard)})).catch((function(e){console.log(e)}))}))}),{root:null,rootMargin:"50px",threshold:0});function a(e){return e.map((function(e){var r=e.poster_path,c=e.original_title,a=e.release_date,i=e.vote_average;return'<li class="movie-card">\n         <img src="'.concat(r?"https://image.tmdb.org/t/p/w300"+r:"default.poster",'" alt="').concat(c||n,'">\n         <div class="movie-info">\n            <h2>').concat(c||n,"</h2>\n            <p>Release Date: ").concat(a||t,"</p>\n            <p>Vote Average: ").concat(i||o,"</p>\n         </div>\n      </li>")})).join("")}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1",n=new URLSearchParams({page:e,api_key:"345007f9ab440e5b86cef51be6397df1"});return fetch("https://api.themoviedb.org/3/trending/movie/week?".concat(n)).then((function(e){if(!e.ok)throw new Error("Error");return e.json()})).catch((function(e){console.log(e)}))}i().then((function(n){console.log(n),e.container.insertAdjacentHTML("beforeend",a(n.results)),n.page<n.total_pages&&c.observe(e.guard)})).catch((function(e){console.log(e)}))}();
//# sourceMappingURL=infinityscroll.d08013a9.js.map
