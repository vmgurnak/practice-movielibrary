const e={container:document.querySelector(".js-movie-list"),guard:document.querySelector(".js-guard")},t="Title not found",o="XXXX-XX-XX",n="XX.XX";let r=1;const a=new IntersectionObserver((function(t,o){t.forEach((t=>{console.log(t),t.isIntersecting&&(r+=1,c(r).then((t=>{e.container.insertAdjacentHTML("beforeend",s(t.results)),t.page>=t.total_pages&&o.unobserve(e.guard)})).catch((e=>{console.log(e)})))}))}),{root:null,rootMargin:"50px",threshold:0});function s(e){return e.map((({poster_path:e,original_title:r,release_date:a,vote_average:s})=>`<li class="movie-card">\n         <img src="${e?"https://image.tmdb.org/t/p/w300"+e:"default.poster"}" alt="${r||t}">\n         <div class="movie-info">\n            <h2>${r||t}</h2>\n            <p>Release Date: ${a||o}</p>\n            <p>Vote Average: ${s||n}</p>\n         </div>\n      </li>`)).join("")}function c(e="1"){const t=new URLSearchParams({page:e,api_key:"345007f9ab440e5b86cef51be6397df1"});return fetch(`https://api.themoviedb.org/3/trending/movie/week?${t}`).then((e=>{if(!e.ok)throw new Error("Error");return e.json()})).catch((e=>{console.log(e)}))}c().then((t=>{console.log(t),e.container.insertAdjacentHTML("beforeend",s(t.results)),t.page<t.total_pages&&a.observe(e.guard)})).catch((e=>{console.log(e)}));
//# sourceMappingURL=infinityscroll.d7a9ebe7.js.map
