!function(){var e={container:document.querySelector(".js-movie-list"),loadBtn:document.querySelector(".js-load-more")},o="Title not found",n="XXXX-XX-XX",t="XX.XX",a=1;function r(e){return e.map((function(e){var a=e.poster_path,r=e.original_title,c=e.release_date,l=e.vote_average;return'<li class="movie-card">\n         <img src="'.concat(a?"https://image.tmdb.org/t/p/w300"+a:"default.poster",'" alt="').concat(r||o,'">\n         <div class="movie-info">\n            <h2>').concat(r||o,"</h2>\n            <p>Release Date: ").concat(c||n,"</p>\n            <p>Vote Average: ").concat(l||t,"</p>\n         </div>\n      </li>")})).join("")}function c(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1",n=new URLSearchParams({page:o,api_key:"345007f9ab440e5b86cef51be6397df1"});return fetch("https://api.themoviedb.org/3/trending/movie/week?".concat(n)).then((function(e){if(!e.ok)throw new Error("Error");return e.json()})).catch((function(o){console.log(o),e.loadBtn.classList.replace("load-more","load-more-hidden")}))}e.loadBtn.addEventListener("click",(function(){c(a+=1).then((function(o){e.container.insertAdjacentHTML("beforeend",r(o.results)),o.page>=o.total_pages&&e.loadBtn.classList.replace("load-more","load-more-hidden")}))})),c().then((function(o){console.log(o),e.container.insertAdjacentHTML("beforeend",r(o.results)),o.page<o.total_pages&&e.loadBtn.classList.replace("load-more-hidden","load-more")})).catch((function(o){console.log(o),e.loadBtn.classList.replace("load-more","load-more-hidden")}))}();
//# sourceMappingURL=loadmore.edd86601.js.map
